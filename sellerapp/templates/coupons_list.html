<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Your Coupons</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <!-- Font Awesome CDN for Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      integrity="sha512-Fo3rlrZj/k7ujTnH/PRJdB0E6MaUs+3lVvSCt9e7/J6oIBPbX+Ed7Ynb0Po1I7tThG4oTYT7chcV4Ma9XnZ9Fw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <style>
      body {
          font-family: 'Roboto', sans-serif;
          background-color: #f4f4f9;
          margin: 0;
          padding: 0;
      }

      {% comment %} /* Navbar styling */
      .navbar {
          background-color: #343a40;
          padding: 1rem;
          text-align: center;
          color: #fff;
          font-size: 1.2rem;
          position: sticky;
          top: 0;
          z-index: 1000;
      }

      .navbar a {
          color: white;
          text-decoration: none;
          margin: 0 1rem;
          transition: color 0.3s;
      }

      .navbar a:hover {
          color: #ffc107;
      } {% endcomment %}
      .navbar {
          height: 15vh;
      }

      .head_h2 {
          color: white;
          margin-left: 5vh;
          font-size: 24px;
      }

      .nav-link {
          color: white !important;
          padding-bottom: 10px;
          /* Adjust for better visual alignment */
          position: relative;
      }

      .nav-link.active::after {
          content: '';
          display: block;
          width: 100%;
          height: 2px;
          background-color: white;
          /* Underline color */
          position: absolute;
          bottom: 0;
          left: 0;
      }

      .nav-link:hover {
          color: #ddd !important;
      }

      .profile-icon {
          color: white;
          font-size: 1.5rem;
      }

      .dropdown-menu a {
          color: black !important;
      }

      /* Table styling */
      table {
          width: 100%;
          margin: 2rem 0;
          border-collapse: collapse;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          background-color: white;
          border-radius: 8px;
          overflow: hidden;
      }

      th, td {
          padding: 1rem;
          text-align: left;
          border-bottom: 1px solid #ddd;
      }

      th {
          background-color: #007bff;
          color: white;
          text-transform: uppercase;
          letter-spacing: 1px;
      }

      td {
          font-size: 1rem;
          color: #333;
          transition: background-color 0.3s;
      }

      td:hover {
          background-color: #f1f1f1;
      }

      /* Action links */
      a {
          color: #007bff;
          text-decoration: none;
          transition: color 0.3s ease;
      }

      a:hover {
          color: #0056b3;
      }

      .btn {
          background-color: #28a745;
          color: white;
          padding: 0.5rem 1.5rem;
          text-align: center;
          display: inline-block;
          font-size: 1rem;
          border-radius: 4px;
          margin-top: 1.5rem;
          transition: background-color 0.3s ease;
      }

      .btn:hover {
          background-color: #218838;
      }

      /* Add animation */
      .table-row {
          opacity: 0;
          transform: translateY(20px);
          animation: fadeInUp 0.6s forwards;
      }

      @keyframes fadeInUp {
          from {
              opacity: 0;
              transform: translateY(20px);
          }
          to {
              opacity: 1;
              transform: translateY(0);
          }
      }

      /* Responsive styling */
      @media (max-width: 768px) {
          th, td {
              font-size: 0.9rem;
              padding: 0.8rem;
          }
      }
    </style>
  </head>

  <body>
    <!-- Navbar -->
    {% comment %}
    <div class="navbar">
      <a href="#">Home</a>
      <a href="#">Profile</a>
      <a href="#">Coupons</a>
      <a href="#">Logout</a>
    </div>
    {% endcomment %}
    <nav class="navbar navbar-expand-lg bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand head_h2" href="#">GOUTER-Seller</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link " id="dashboard-link" href="#"
                >Dashboard</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" id="add-dish-link" href="{% url 'add_dish' %}"
                >Add Dish</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" id="order-list-link" href="#">Order List</a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                id="products-link"
                href="{% url 'seller_dishes' %}"
                >Dishes</a
              >
            </li>
            <li class="nav-item active">
              <a
                class="nav-link"
                id="coupon-link"
                href="{% url 'seller_coupons' %}"
                >Coupons</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" id="table-link" href="#">Table</a>
            </li>
            <!-- Profile Icon with Dropdown -->
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle profile-icon"
                href="#"
                id="profileDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <i class="fas fa-user-circle"></i>
              </a>
              <ul
                class="dropdown-menu dropdown-menu-end"
                aria-labelledby="profileDropdown"
              >
                <li>
                  <a class="dropdown-item" href="{% url 'seller_profile' %}"
                    >Profile</a
                  >
                </li>
                <!-- <li><a class="dropdown-item" href="#">Settings</a></li> -->
                <li>
                  <a class="dropdown-item" href="{% url 'home' %}">Logout</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Coupons Table -->
    <div class="container">
      <h2 style="text-align: center; margin-top: 2rem">Your Coupons</h2>
      <div style="text-align: center; margin-bottom: 2rem;">
        <a href="{% url 'seller_dashboard' %}" class="btn btn-secondary">
          <i class="fas fa-arrow-left"></i> Back to Dashboard
        </a>
      </div>
      <table class="table">
        <thead>
          <tr>
            <th>Code</th>
            <th>Discount (%)</th>
            <th>Expiry Date</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for coupon in coupons %}
          <tr class="table-row">
            <td>{{ coupon.code }}</td>
            <td>{{ coupon.discount }}</td>
            <td>{{ coupon.expiry_date }}</td>
            <td>{{ coupon.is_available|yesno:"Available,Unavailable" }}</td>
            <td>
              <a href="{% url 'edit_coupon' coupon.id %}"
                ><i class="fas fa-edit"></i> Edit</a
              >
              |
              <a
                href="{% url 'delete_coupon' coupon.id %}"
                style="color: #dc3545"
                ><i class="fas fa-trash"></i> Delete</a
              >
              |
              <a href="{% url 'toggle_coupon_availability' coupon.id %}"
                ><i class="fas fa-toggle-on"></i> Toggle</a
              >
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      <a href="{% url 'create_coupon' %}" class="btn"
        ><i class="fas fa-plus"></i> Create New Coupon</a
      >
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>

    <!-- Font Awesome JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js"></script>
  </body>
</html>
